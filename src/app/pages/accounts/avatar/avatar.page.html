<ion-header>
    <ion-toolbar mode="ios">
      <ion-title text-center class="text-linear-gradient">Avatar</ion-title>
      <ion-buttons slot="start">
        <ion-back-button defaultHref="/register" color="primary"></ion-back-button>
      </ion-buttons>
    </ion-toolbar>
</ion-header>

<app-component-preload *ngIf="preload"></app-component-preload>

<ion-content *ngIf="!preload">
  <form [formGroup]="registerForm">
    <ion-grid no-padding no-margin class="bg-gray">
      <ion-row padding>
        <ion-col sizeXl="12" sizeSm="6" offsetSm="3">
          <ion-label>Pick a cool name</ion-label>
          <ion-input type="text" clearInput placeholder="User name" color="medium" class="ion-input-custom" formControlName="name"></ion-input>
          <section class="validation-form" *ngIf="registerForm.get('name').errors && registerForm.get('name').dirty">
            <ion-note color="danger" *ngIf="registerForm.get('name').hasError('required')"><p>Is required</p></ion-note>
          </section>  
        </ion-col>
      </ion-row>
    </ion-grid>
    <section padding>
      <section id="upload-image" (click)="getPhoto()">
        <img src="{{ imgPreview }}" *ngIf="imgPreview">
      </section>
      <ion-button [disabled]="!registerForm.valid" (click)="onFormSubmit(registerForm.value)" class="btn-linear-gradient mt-50" shape="round" expand="block" size="medium">SAVE</ion-button>
    </section>
  </form>

</ion-content>
